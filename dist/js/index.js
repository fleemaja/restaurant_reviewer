function fetchRestaurants(){var a=$("#select-cuisine-type").val(),e=$("#select-borough").val(),t="";$.each(restaurants,function(s,r){if(!("all"!==a&&r.cuisine_type!==a||"all"!==e&&r.borough!==e)){var i=0,n=reviews[r.name].length;$.each(reviews[r.name],function(a,e){i+=e.rating});var u=Math.round(i/n);t+="<div class='col-md-4'><figure>",t+="<img class='img-fluid' src='./assets/images/"+r.photograph+"' alt='"+r.name+"' >",t+="<figcaption><a href='./show.html?r="+r.name.replace(/'/g,"%27")+"'>"+r.name+"</a>",t+="<p>"+"<i class='fa fa-star' aria-hidden='true'></i>".repeat(u)+"<i class='fa fa-star-o' aria-hidden='true'></i>".repeat(5-u)+"</p>",t+="<p><i class='fa fa-map-marker' aria-hidden='true'></i> "+r.address.split("$")[0]+"</p>",t+="<p><i class='fa fa-map-marker' aria-hidden='true'></i> "+r.address.split("$")[1]+"</p>",t+="<p><i class='fa fa-cutlery' aria-hidden='true'></i> "+r.cuisine_type+"</p>",t+="</figcaption></figure></div>"}}),$("#restaurants").html(t)}var restaurants,reviews;$(document).ready(function(){$.ajax({url:"https://fleemaja.github.io/restaurant_reviewer/data/restaurants.json",type:"GET",success:function(a){restaurants=a,$.ajax({url:"https://fleemaja.github.io/restaurant_reviewer/data/reviews.json",type:"GET",success:function(a){reviews=JSON.parse(localStorage.getItem("_restaurantReviews"))||a,fetchRestaurants()}})}})}),$("#select-cuisine-type").on("change",function(){fetchRestaurants()}),$("#select-borough").on("change",function(){fetchRestaurants()});